<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3472px" preserveAspectRatio="none" style="width:2015px;height:3472px;background:#FFFFFF;" version="1.1" viewBox="0 0 2015 3472" width="2015px" zoomAndPan="magnify"><defs><filter height="300%" id="fld5sprry4qo6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="299.5" x2="299.5" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="554" x2="554" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="807.5" x2="807.5" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1075.5" x2="1075.5" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1272.5" x2="1272.5" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1512.5" x2="1512.5" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1837" x2="1837" y1="88.2969" y2="3387.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1967" x2="1967" y1="88.2969" y2="3387.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="84.9951">User</text><ellipse cx="24" cy="15" fill="#FEFECE" filter="url(#fld5sprry4qo6)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M24,23 L24,50 M11,31 L37,31 M24,50 L11,65 M24,50 L37,65 " fill="none" filter="url(#fld5sprry4qo6)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="3399.9717">User</text><ellipse cx="24" cy="3413.2734" fill="#FEFECE" filter="url(#fld5sprry4qo6)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M24,3421.2734 L24,3448.2734 M11,3429.2734 L37,3429.2734 M24,3448.2734 L11,3463.2734 M24,3448.2734 L37,3463.2734 " fill="none" filter="url(#fld5sprry4qo6)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="256.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="263.5" y="72.9951">:MainView</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="256.5" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="263.5" y="3406.9717">:MainView</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="232" x="436" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="443" y="72.9951">main_contrroller: MainController</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="232" x="436" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="443" y="3406.9717">main_contrroller: MainController</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="161" x="725.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="732.5" y="72.9951">model: PatienttModel</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="161" x="725.5" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="732.5" y="3406.9717">model: PatienttModel</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="979.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="986.5" y="72.9951">repository: PatientRepDB</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="189" x="979.5" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="986.5" y="3406.9717">repository: PatientRepDB</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="176" x="1182.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1189.5" y="72.9951">:AddUpdatePatientView</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="176" x="1182.5" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="1189.5" y="3406.9717">:AddUpdatePatientView</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="276" x="1372.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="1379.5" y="72.9951">controller:AddUpdatePatientController</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="276" x="1372.5" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="1379.5" y="3406.9717">controller:AddUpdatePatientController</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1753" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1760" y="72.9951">:DatabaseConnecrion</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="1753" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="1760" y="3406.9717">:DatabaseConnecrion</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="67" x="1932" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1939" y="72.9951">main.py</text><rect fill="#FEFECE" filter="url(#fld5sprry4qo6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="67" x="1932" y="3386.9766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="1939" y="3406.9717">main.py</text><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2008" x="0" y="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="118.8633" y2="118.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="121.8633" y2="121.8633"/><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="253" x="877.5" y="108.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="234" x="883.5" y="124.3638">Инициализация главного окна</text><polygon fill="#A80036" points="1087,158.5625,1077,162.5625,1087,166.5625,1083,162.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1081" x2="1966.5" y1="162.5625" y2="162.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1093" y="157.4966">init(db_config): PatientRepDB</text><polygon fill="#A80036" points="1825.5,187.6953,1835.5,191.6953,1825.5,195.6953,1829.5,191.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1076" x2="1831.5" y1="191.6953" y2="191.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="1083" y="186.6294">new(db_config): DatabaseConnection</text><polygon fill="#A80036" points="1087,216.8281,1077,220.8281,1087,224.8281,1083,220.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1081" x2="1836.5" y1="220.8281" y2="220.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1093" y="215.7622">Возврат объект DatabaseConnection</text><polygon fill="#A80036" points="819,245.9609,809,249.9609,819,253.9609,815,249.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="813" x2="1966.5" y1="249.9609" y2="249.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="825" y="244.895">init(repository): PatientModel</text><polygon fill="#A80036" points="565,275.0938,555,279.0938,565,283.0938,561,279.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="559" x2="1966.5" y1="279.0938" y2="279.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="571" y="274.0278">init(model): MainController</text><polygon fill="#A80036" points="311,304.2266,301,308.2266,311,312.2266,307,308.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305" x2="1966.5" y1="308.2266" y2="308.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="317" y="303.1606">init(root, main_controller): MainView</text><polygon fill="#A80036" points="796,333.3594,806,337.3594,796,341.3594,800,337.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="802" y1="337.3594" y2="337.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="307" y="332.2935">add_observer(self)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="366.4922" y2="366.4922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="366.4922" y2="379.4922"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="379.4922" y2="379.4922"/><polygon fill="#A80036" points="311,375.4922,301,379.4922,311,383.4922,307,379.4922" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="307" y="361.4263">refresh_table()</text><polygon fill="#A80036" points="542,404.625,552,408.625,542,412.625,546,408.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="408.625" y2="408.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="307" y="403.5591">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="796,433.7578,806,437.7578,796,441.7578,800,437.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="437.7578" y2="437.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="561" y="432.6919">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="1064,462.8906,1074,466.8906,1064,470.8906,1068,466.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="466.8906" y2="466.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="815" y="461.8247">get_k_n_short_list(page_size, offset)</text><polygon fill="#A80036" points="819,492.0234,809,496.0234,819,500.0234,815,496.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="496.0234" y2="496.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="825" y="490.9575">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="565,521.1563,555,525.1563,565,529.1563,561,525.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559" x2="807" y1="525.1563" y2="525.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="571" y="520.0903">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="311,550.2891,301,554.2891,311,558.2891,307,554.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="553" y1="554.2891" y2="554.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="317" y="549.2231">Возврат списка пациентов (list)</text><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2008" x="0" y="582.8555"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="582.8555" y2="582.8555"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="585.8555" y2="585.8555"/><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="245" x="881.5" y="572.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="226" x="887.5" y="588.356">Добавление нового пациента</text><polygon fill="#A80036" points="288,622.5547,298,626.5547,288,630.5547,292,626.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="294" y1="626.5547" y2="626.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="31" y="621.4888">Нажатие кнопки "Добавить"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="655.6875" y2="655.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="655.6875" y2="668.6875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="668.6875" y2="668.6875"/><polygon fill="#A80036" points="311,664.6875,301,668.6875,311,672.6875,307,668.6875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="307" y="650.6216">open_add_patientwindow()</text><polygon fill="#A80036" points="1500.5,693.8203,1510.5,697.8203,1500.5,701.8203,1504.5,697.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="1506.5" y1="697.8203" y2="697.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="307" y="692.7544">init(model): AddUpdatePatientController</text><polygon fill="#A80036" points="1260.5,722.9531,1270.5,726.9531,1260.5,730.9531,1264.5,726.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="1266.5" y1="726.9531" y2="726.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="307" y="721.8872">init(root, controller, action, patient_id): AddUpdatePatientView</text><polygon fill="#A80036" points="1260.5,752.0859,1270.5,756.0859,1260.5,760.0859,1264.5,756.0859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="1266.5" y1="756.0859" y2="756.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="31" y="751.02">Ввод данных пациента</text><polygon fill="#A80036" points="1260.5,781.2188,1270.5,785.2188,1260.5,789.2188,1264.5,785.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="1266.5" y1="785.2188" y2="785.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="31" y="780.1528">Нажатие кнопки "Добавить"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1272.5" x2="1314.5" y1="814.3516" y2="814.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1314.5" x2="1314.5" y1="814.3516" y2="827.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1273.5" x2="1314.5" y1="827.3516" y2="827.3516"/><polygon fill="#A80036" points="1283.5,823.3516,1273.5,827.3516,1283.5,831.3516,1279.5,827.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1279.5" y="809.2856">add_update_patient()</text><polygon fill="#A80036" points="1500.5,852.4844,1510.5,856.4844,1500.5,860.4844,1504.5,856.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1272.5" x2="1506.5" y1="856.4844" y2="856.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1279.5" y="851.4185">add_patient(...)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1512.5" x2="1554.5" y1="885.6172" y2="885.6172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1554.5" x2="1554.5" y1="885.6172" y2="898.6172"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1513.5" x2="1554.5" y1="898.6172" y2="898.6172"/><polygon fill="#A80036" points="1523.5,894.6172,1513.5,898.6172,1523.5,902.6172,1519.5,898.6172" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1519.5" y="880.5513">validate_data(...) Проверка валидации данных</text><polygon fill="#A80036" points="819,923.75,809,927.75,819,931.75,815,927.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="813" x2="1511.5" y1="927.75" y2="927.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="825" y="922.6841">add_pstient(...)</text><polygon fill="#A80036" points="1064,952.8828,1074,956.8828,1064,960.8828,1068,956.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="956.8828" y2="956.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="815" y="951.8169">add(...)</text><polygon fill="#A80036" points="819,982.0156,809,986.0156,819,990.0156,815,986.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="986.0156" y2="986.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="825" y="980.9497">Возврат patient_id нового элемента</text><polygon fill="#A80036" points="311,1011.1484,301,1015.1484,311,1019.1484,307,1015.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305" x2="807" y1="1015.1484" y2="1015.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="317" y="1010.0825">notify_observers(...)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="1044.2813" y2="1044.2813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="1044.2813" y2="1057.2813"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="1057.2813" y2="1057.2813"/><polygon fill="#A80036" points="311,1053.2813,301,1057.2813,311,1061.2813,307,1057.2813" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="307" y="1039.2153">refresh_table()</text><polygon fill="#A80036" points="542,1082.4141,552,1086.4141,542,1090.4141,546,1086.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="1086.4141" y2="1086.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="307" y="1081.3481">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="796,1111.5469,806,1115.5469,796,1119.5469,800,1115.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="1115.5469" y2="1115.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="561" y="1110.481">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="1064,1140.6797,1074,1144.6797,1064,1148.6797,1068,1144.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="1144.6797" y2="1144.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="815" y="1139.6138">get_k_n_short_list(page_size, offset)</text><polygon fill="#A80036" points="819,1169.8125,809,1173.8125,819,1177.8125,815,1173.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="1173.8125" y2="1173.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="825" y="1168.7466">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="565,1198.9453,555,1202.9453,565,1206.9453,561,1202.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559" x2="807" y1="1202.9453" y2="1202.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="571" y="1197.8794">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="311,1228.0781,301,1232.0781,311,1236.0781,307,1232.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="553" y1="1232.0781" y2="1232.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="317" y="1227.0122">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="796,1257.2109,806,1261.2109,796,1265.2109,800,1261.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300" x2="802" y1="1261.2109" y2="1261.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="307" y="1256.145">Таблица обновлена</text><polygon fill="#A80036" points="1500.5,1286.3438,1510.5,1290.3438,1500.5,1294.3438,1504.5,1290.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="808" x2="1506.5" y1="1290.3438" y2="1290.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="815" y="1285.2778">Пациент добавлен</text><polygon fill="#A80036" points="1283.5,1315.4766,1273.5,1319.4766,1283.5,1323.4766,1279.5,1319.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1277.5" x2="1511.5" y1="1319.4766" y2="1319.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="1289.5" y="1314.4106">Успех</text><polygon fill="#A80036" points="311,1344.6094,301,1348.6094,311,1352.6094,307,1348.6094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="1271.5" y1="1348.6094" y2="1348.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="317" y="1343.5435">Закрытие окна</text><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2008" x="0" y="1377.1758"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="1377.1758" y2="1377.1758"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="1380.1758" y2="1380.1758"/><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="251" x="878.5" y="1366.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="232" x="884.5" y="1382.6763">Обновление данных пациента</text><polygon fill="#A80036" points="288,1416.875,298,1420.875,288,1424.875,292,1420.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="294" y1="1420.875" y2="1420.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="31" y="1415.8091">Нажатие кнопки "Скорректировать"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="1450.0078" y2="1450.0078"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="1450.0078" y2="1463.0078"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="1463.0078" y2="1463.0078"/><polygon fill="#A80036" points="311,1459.0078,301,1463.0078,311,1467.0078,307,1463.0078" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="307" y="1444.9419">view_details()</text><polygon fill="#A80036" points="1500.5,1488.1406,1510.5,1492.1406,1500.5,1496.1406,1504.5,1492.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="1506.5" y1="1492.1406" y2="1492.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="307" y="1487.0747">init(model): AddUpdatePatientController</text><polygon fill="#A80036" points="1260.5,1517.2734,1270.5,1521.2734,1260.5,1525.2734,1264.5,1521.2734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="1266.5" y1="1521.2734" y2="1521.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="307" y="1516.2075">init(root, controller, action, patient_id): AddUpdatePatientView</text><polygon fill="#A80036" points="1260.5,1546.4063,1270.5,1550.4063,1260.5,1554.4063,1264.5,1550.4063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="1266.5" y1="1550.4063" y2="1550.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="31" y="1545.3403">Корректировка данных пациента</text><polygon fill="#A80036" points="1260.5,1575.5391,1270.5,1579.5391,1260.5,1583.5391,1264.5,1579.5391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="1266.5" y1="1579.5391" y2="1579.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="31" y="1574.4731">Нажатие кнопки "Скорректировать"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1272.5" x2="1314.5" y1="1608.6719" y2="1608.6719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1314.5" x2="1314.5" y1="1608.6719" y2="1621.6719"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1273.5" x2="1314.5" y1="1621.6719" y2="1621.6719"/><polygon fill="#A80036" points="1283.5,1617.6719,1273.5,1621.6719,1283.5,1625.6719,1279.5,1621.6719" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="1279.5" y="1603.606">add_update_patient()</text><polygon fill="#A80036" points="1500.5,1646.8047,1510.5,1650.8047,1500.5,1654.8047,1504.5,1650.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1272.5" x2="1506.5" y1="1650.8047" y2="1650.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1279.5" y="1645.7388">update_patient(...)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1512.5" x2="1554.5" y1="1679.9375" y2="1679.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1554.5" x2="1554.5" y1="1679.9375" y2="1692.9375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1513.5" x2="1554.5" y1="1692.9375" y2="1692.9375"/><polygon fill="#A80036" points="1523.5,1688.9375,1513.5,1692.9375,1523.5,1696.9375,1519.5,1692.9375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1519.5" y="1674.8716">validate_data(...) Проверка валидации данных</text><polygon fill="#A80036" points="819,1718.0703,809,1722.0703,819,1726.0703,815,1722.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="813" x2="1511.5" y1="1722.0703" y2="1722.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="825" y="1717.0044">update_patient(...)</text><polygon fill="#A80036" points="1064,1747.2031,1074,1751.2031,1064,1755.2031,1068,1751.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="1751.2031" y2="1751.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="815" y="1746.1372">update(...)</text><polygon fill="#A80036" points="819,1776.3359,809,1780.3359,819,1784.3359,815,1780.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="1780.3359" y2="1780.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="825" y="1775.27">Пациент обновлен</text><polygon fill="#A80036" points="311,1805.4688,301,1809.4688,311,1813.4688,307,1809.4688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305" x2="807" y1="1809.4688" y2="1809.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="317" y="1804.4028">notify_observers(...)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="1838.6016" y2="1838.6016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="1838.6016" y2="1851.6016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="1851.6016" y2="1851.6016"/><polygon fill="#A80036" points="311,1847.6016,301,1851.6016,311,1855.6016,307,1851.6016" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="307" y="1833.5356">refresh_table()</text><polygon fill="#A80036" points="542,1876.7344,552,1880.7344,542,1884.7344,546,1880.7344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="1880.7344" y2="1880.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="307" y="1875.6685">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="796,1905.8672,806,1909.8672,796,1913.8672,800,1909.8672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="1909.8672" y2="1909.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="561" y="1904.8013">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="1064,1935,1074,1939,1064,1943,1068,1939" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="1939" y2="1939"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="815" y="1933.9341">get_k_n_short_list(page_size, offset)</text><polygon fill="#A80036" points="819,1964.1328,809,1968.1328,819,1972.1328,815,1968.1328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="1968.1328" y2="1968.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="825" y="1963.0669">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="565,1993.2656,555,1997.2656,565,2001.2656,561,1997.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559" x2="807" y1="1997.2656" y2="1997.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="571" y="1992.1997">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="311,2022.3984,301,2026.3984,311,2030.3984,307,2026.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="553" y1="2026.3984" y2="2026.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="317" y="2021.3325">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="796,2051.5313,806,2055.5313,796,2059.5313,800,2055.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300" x2="802" y1="2055.5313" y2="2055.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="307" y="2050.4653">Таблица обновлена</text><polygon fill="#A80036" points="1500.5,2080.6641,1510.5,2084.6641,1500.5,2088.6641,1504.5,2084.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="808" x2="1506.5" y1="2084.6641" y2="2084.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="815" y="2079.5981">Пациент обновлен</text><polygon fill="#A80036" points="1283.5,2109.7969,1273.5,2113.7969,1283.5,2117.7969,1279.5,2113.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1277.5" x2="1511.5" y1="2113.7969" y2="2113.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="1289.5" y="2108.731">Успех</text><polygon fill="#A80036" points="311,2138.9297,301,2142.9297,311,2146.9297,307,2142.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="1271.5" y1="2142.9297" y2="2142.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="317" y="2137.8638">Закрытие окна</text><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2008" x="0" y="2171.4961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="2171.4961" y2="2171.4961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="2174.4961" y2="2174.4961"/><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="172" x="918" y="2160.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153" x="924" y="2176.9966">Удаление пациента</text><polygon fill="#A80036" points="288,2211.1953,298,2215.1953,288,2219.1953,292,2215.1953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="294" y1="2215.1953" y2="2215.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="31" y="2210.1294">Нажиматие кнопки "Удалить"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="2244.3281" y2="2244.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="2244.3281" y2="2257.3281"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="2257.3281" y2="2257.3281"/><polygon fill="#A80036" points="311,2253.3281,301,2257.3281,311,2261.3281,307,2257.3281" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="307" y="2239.2622">delete_patient()</text><polygon fill="#A80036" points="542,2282.4609,552,2286.4609,542,2290.4609,546,2286.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="2286.4609" y2="2286.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="307" y="2281.395">delete_patient(patient_id)</text><polygon fill="#A80036" points="796,2311.5938,806,2315.5938,796,2319.5938,800,2315.5938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="2315.5938" y2="2315.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="561" y="2310.5278">delete_patient(patient_id)</text><polygon fill="#A80036" points="1064,2340.7266,1074,2344.7266,1064,2348.7266,1068,2344.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="2344.7266" y2="2344.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="815" y="2339.6606">delete(patient_id)</text><polygon fill="#A80036" points="819,2369.8594,809,2373.8594,819,2377.8594,815,2373.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="2373.8594" y2="2373.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="825" y="2368.7935">Пациент удален</text><polygon fill="#A80036" points="311,2398.9922,301,2402.9922,311,2406.9922,307,2402.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="305" x2="807" y1="2402.9922" y2="2402.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="317" y="2397.9263">notify_observers(...)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="2432.125" y2="2432.125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="2432.125" y2="2445.125"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="2445.125" y2="2445.125"/><polygon fill="#A80036" points="311,2441.125,301,2445.125,311,2449.125,307,2445.125" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="307" y="2427.0591">refresh_table()</text><polygon fill="#A80036" points="542,2470.2578,552,2474.2578,542,2478.2578,546,2474.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="2474.2578" y2="2474.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="307" y="2469.1919">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="796,2499.3906,806,2503.3906,796,2507.3906,800,2503.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="2503.3906" y2="2503.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="561" y="2498.3247">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="1064,2528.5234,1074,2532.5234,1064,2536.5234,1068,2532.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="2532.5234" y2="2532.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="815" y="2527.4575">get_k_n_short_list(page_size, offset)</text><polygon fill="#A80036" points="819,2557.6563,809,2561.6563,819,2565.6563,815,2561.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="2561.6563" y2="2561.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="825" y="2556.5903">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="565,2586.7891,555,2590.7891,565,2594.7891,561,2590.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559" x2="807" y1="2590.7891" y2="2590.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="571" y="2585.7231">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="311,2615.9219,301,2619.9219,311,2623.9219,307,2619.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="553" y1="2619.9219" y2="2619.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="317" y="2614.856">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="796,2645.0547,806,2649.0547,796,2653.0547,800,2649.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300" x2="802" y1="2649.0547" y2="2649.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="307" y="2643.9888">Таблица обновлена</text><polygon fill="#A80036" points="1500.5,2674.1875,1510.5,2678.1875,1500.5,2682.1875,1504.5,2678.1875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="808" x2="1506.5" y1="2678.1875" y2="2678.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="815" y="2673.1216">Пациент удален</text><polygon fill="#A80036" points="1283.5,2703.3203,1273.5,2707.3203,1283.5,2711.3203,1279.5,2707.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1277.5" x2="1511.5" y1="2707.3203" y2="2707.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="1289.5" y="2702.2544">Успех</text><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2008" x="0" y="2735.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="2735.8867" y2="2735.8867"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="2738.8867" y2="2738.8867"/><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="112" x="948" y="2725.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="93" x="954" y="2741.3872">Следующий</text><polygon fill="#A80036" points="288,2775.5859,298,2779.5859,288,2783.5859,292,2779.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="294" y1="2779.5859" y2="2779.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="31" y="2774.52">Нажиматие кнопки "Следующий"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="2808.7188" y2="2808.7188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="2808.7188" y2="2821.7188"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="2821.7188" y2="2821.7188"/><polygon fill="#A80036" points="311,2817.7188,301,2821.7188,311,2825.7188,307,2821.7188" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="307" y="2803.6528">next_page()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="2850.8516" y2="2850.8516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="2850.8516" y2="2863.8516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="2863.8516" y2="2863.8516"/><polygon fill="#A80036" points="311,2859.8516,301,2863.8516,311,2867.8516,307,2863.8516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="307" y="2845.7856">refresh_table()</text><polygon fill="#A80036" points="542,2888.9844,552,2892.9844,542,2896.9844,546,2892.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="2892.9844" y2="2892.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="307" y="2887.9185">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="796,2918.1172,806,2922.1172,796,2926.1172,800,2922.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="2922.1172" y2="2922.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="561" y="2917.0513">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="1064,2947.25,1074,2951.25,1064,2955.25,1068,2951.25" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="2951.25" y2="2951.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="815" y="2946.1841">get_k_n_short_list(page_size, offset)</text><polygon fill="#A80036" points="819,2976.3828,809,2980.3828,819,2984.3828,815,2980.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="2980.3828" y2="2980.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="825" y="2975.3169">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="565,3005.5156,555,3009.5156,565,3013.5156,561,3009.5156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559" x2="807" y1="3009.5156" y2="3009.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="571" y="3004.4497">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="311,3034.6484,301,3038.6484,311,3042.6484,307,3038.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="553" y1="3038.6484" y2="3038.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="317" y="3033.5825">Возврат списка пациентов (list)</text><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2008" x="0" y="3067.2148"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="3067.2148" y2="3067.2148"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2008" y1="3070.2148" y2="3070.2148"/><rect fill="#EEEEEE" filter="url(#fld5sprry4qo6)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="123" x="942.5" y="3056.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="948.5" y="3072.7153">Предыдущий</text><polygon fill="#A80036" points="288,3106.9141,298,3110.9141,288,3114.9141,292,3110.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="24" x2="294" y1="3110.9141" y2="3110.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="31" y="3105.8481">Нажиматие кнопки "Предыдущий"</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="3140.0469" y2="3140.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="3140.0469" y2="3153.0469"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="3153.0469" y2="3153.0469"/><polygon fill="#A80036" points="311,3149.0469,301,3153.0469,311,3157.0469,307,3153.0469" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="307" y="3134.981">prev_page()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="342" y1="3182.1797" y2="3182.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="342" x2="342" y1="3182.1797" y2="3195.1797"/><line style="stroke:#A80036;stroke-width:1.0;" x1="301" x2="342" y1="3195.1797" y2="3195.1797"/><polygon fill="#A80036" points="311,3191.1797,301,3195.1797,311,3199.1797,307,3195.1797" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="307" y="3177.1138">refresh_table()</text><polygon fill="#A80036" points="542,3220.3125,552,3224.3125,542,3228.3125,546,3224.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="300" x2="548" y1="3224.3125" y2="3224.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="307" y="3219.2466">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="796,3249.4453,806,3253.4453,796,3257.4453,800,3253.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="802" y1="3253.4453" y2="3253.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="561" y="3248.3794">get_patients(page_size, page_num)</text><polygon fill="#A80036" points="1064,3278.5781,1074,3282.5781,1064,3286.5781,1068,3282.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="808" x2="1070" y1="3282.5781" y2="3282.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="815" y="3277.5122">get_k_n_short_list(page_size, offset)</text><polygon fill="#A80036" points="819,3307.7109,809,3311.7109,819,3315.7109,815,3311.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="813" x2="1075" y1="3311.7109" y2="3311.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="825" y="3306.645">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="565,3336.8438,555,3340.8438,565,3344.8438,561,3340.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="559" x2="807" y1="3340.8438" y2="3340.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="571" y="3335.7778">Возврат списка пациентов (list)</text><polygon fill="#A80036" points="311,3365.9766,301,3369.9766,311,3373.9766,307,3369.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="305" x2="553" y1="3369.9766" y2="3369.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="317" y="3364.9106">Возврат списка пациентов (list)</text><!--MD5=[958b7a141e58a452f1ecbdd0859196c4]
@startuml
actor User
participant ":MainView" as MV
participant "main_contrroller: MainController" as MC
participant "model: PatienttModel" as CM
participant "repository: PatientRepDB" as DB
participant ":AddUpdatePatientView" as ACV
participant "controller:AddUpdatePatientController" as ACC
participant ":DatabaseConnecrion" as DC
participant "main.py" as MP


== Инициализация главного окна ==
MP -> DB: init(db_config): PatientRepDB
DB -> DC: new(db_config): DatabaseConnection
DC - -> DB: Возврат объект DatabaseConnection
MP -> CM: init(repository): PatientModel
MP -> MC: init(model): MainController
MP -> MV: init(root, main_controller): MainView
MV -> CM: add_observer(self)
MV -> MV: refresh_table()
MV -> MC: get_patients(page_size, page_num)
MC -> CM: get_patients(page_size, page_num)
CM -> DB: get_k_n_short_list(page_size, offset)
DB - -> CM: Возврат списка пациентов (list)
CM - -> MC: Возврат списка пациентов (list)
MC - -> MV: Возврат списка пациентов (list)

== Добавление нового пациента ==
User -> MV: Нажатие кнопки "Добавить"
MV -> MV: open_add_patientwindow()
MV -> ACC: init(model): AddUpdatePatientController
MV -> ACV: init(root, controller, action, patient_id): AddUpdatePatientView
User -> ACV: Ввод данных пациента
User -> ACV: Нажатие кнопки "Добавить"
ACV -> ACV: add_update_patient() 
ACV -> ACC: add_patient(...)
ACC -> ACC: validate_data(...) Проверка валидации данных
ACC -> CM: add_pstient(...)
CM -> DB: add(...)
DB - -> CM: Возврат patient_id нового элемента
CM -> MV: notify_observers(...)
MV -> MV: refresh_table()
MV -> MC: get_patients(page_size, page_num)
MC -> CM: get_patients(page_size, page_num)
CM -> DB: get_k_n_short_list(page_size, offset)
DB - -> CM: Возврат списка пациентов (list)
CM - -> MC: Возврат списка пациентов (list)
MC - -> MV: Возврат списка пациентов (list)
MV - -> CM: Таблица обновлена
CM - -> ACC: Пациент добавлен
ACC - -> ACV: Успех
ACV - -> MV: Закрытие окна

== Обновление данных пациента ==
User -> MV: Нажатие кнопки "Скорректировать"
MV -> MV: view_details() 
MV -> ACC: init(model): AddUpdatePatientController
MV -> ACV: init(root, controller, action, patient_id): AddUpdatePatientView
User -> ACV: Корректировка данных пациента
User -> ACV: Нажатие кнопки "Скорректировать"
ACV -> ACV: add_update_patient()
ACV -> ACC: update_patient(...)
ACC -> ACC: validate_data(...) Проверка валидации данных
ACC -> CM: update_patient(...)
CM -> DB: update(...)
DB - -> CM: Пациент обновлен
CM -> MV: notify_observers(...)
MV -> MV: refresh_table()
MV -> MC: get_patients(page_size, page_num)
MC -> CM: get_patients(page_size, page_num)
CM -> DB: get_k_n_short_list(page_size, offset)
DB - -> CM: Возврат списка пациентов (list)
CM - -> MC: Возврат списка пациентов (list)
MC - -> MV: Возврат списка пациентов (list)
MV - -> CM: Таблица обновлена
CM - -> ACC: Пациент обновлен
ACC - -> ACV: Успех
ACV - -> MV: Закрытие окна

== Удаление пациента ==
User -> MV: Нажиматие кнопки "Удалить"
MV -> MV: delete_patient()
MV -> MC: delete_patient(patient_id)
MC -> CM: delete_patient(patient_id)
CM -> DB: delete(patient_id)
DB - -> CM: Пациент удален
CM -> MV: notify_observers(...)
MV -> MV: refresh_table()
MV -> MC: get_patients(page_size, page_num)
MC -> CM: get_patients(page_size, page_num)
CM -> DB: get_k_n_short_list(page_size, offset)
DB - -> CM: Возврат списка пациентов (list)
CM - -> MC: Возврат списка пациентов (list)
MC - -> MV: Возврат списка пациентов (list)
MV - -> CM: Таблица обновлена
CM - -> ACC: Пациент удален
ACC - -> ACV: Успех

== Следующий ==
User -> MV: Нажиматие кнопки "Следующий"
MV -> MV: next_page()
MV -> MV: refresh_table()
MV -> MC: get_patients(page_size, page_num)
MC -> CM: get_patients(page_size, page_num)
CM -> DB: get_k_n_short_list(page_size, offset)
DB - -> CM: Возврат списка пациентов (list)
CM - -> MC: Возврат списка пациентов (list)
MC - -> MV: Возврат списка пациентов (list)
== Предыдущий ==
User -> MV: Нажиматие кнопки "Предыдущий"
MV -> MV: prev_page()
MV -> MV: refresh_table()
MV -> MC: get_patients(page_size, page_num)
MC -> CM: get_patients(page_size, page_num)
CM -> DB: get_k_n_short_list(page_size, offset)
DB - -> CM: Возврат списка пациентов (list)
CM - -> MC: Возврат списка пациентов (list)
MC - -> MV: Возврат списка пациентов (list)
@enduml

PlantUML version 1.2022.0(Tue Jan 11 16:16:42 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>